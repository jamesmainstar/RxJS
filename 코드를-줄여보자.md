### 레이어팝업 노출을 위한 상태와 함수를 줄여보자
레이어팝업 노출하기 위해서는 최소한 한개씩 변수와 함수가 필요하다.
```js
export class AppComponent {
  isShow = false;
  toggle() {
    this.isShow = !this.isShow;
  }
}
```
```html
<div>
  <button
    type="button"
    (click)="toggle()"
    *ngIf="!isShow">Open</button>
  <div *ngIf="isShow">
    <button
      type="button"
      (click)="toggle()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>
```

하지만 복잡한 UI 일수록 많은 레이어팝업이 있고, 그만큼 상태와 함수가 늘어나기 때문에 이 코드를 줄일 수 없을 까 하고 고민했다. 레이어팝업 3개만 있어도 아래 갯수만큼 늘어난다.

```js
export class AppComponent {
  isShow1 = false;
  toggle1() {
    this.isShow1 = !this.isShow1;
  }
  isShow2 = false;
  toggle2() {
    this.isShow2 = !this.isShow2;
  }
  isShow3 = false;
  toggle3() {
    this.isShow3 = !this.isShow3;
  }
}
```
```html
<div>
  <button
    type="button"
    (click)="toggle1()"
    *ngIf="!isShow1">Open</button>
  <div *ngIf="isShow1">
    <button
      type="button"
      (click)="toggle1()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>

<div>
  <button
    type="button"
    (click)="toggle2()"
    *ngIf="!isShow2">Open</button>
  <div *ngIf="isShow2">
    <button
      type="button"
      (click)="toggle2()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>

<div>
  <button
    type="button"
    (click)="toggle3()"
    *ngIf="!isShow3">Open</button>
  <div *ngIf="isShow3">
    <button
      type="button"
      (click)="toggle3()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>
```
공통적인 특징은 불값을 가진 상태와 토글할 수 있는 함수이다. 상태와 함수를 클래스로 만들어 위임받아 사용하면 중복된 코드를 삭제할 수 있다!!
```js
export class AppComponent {
  layer1 = new LayerHelper();
  layer2 = new LayerHelper();
  layer3 = new LayerHelper();
  constructor() {}
}

class LayerHelper {
  isShow = false;
  toggle() {
    this.isShow = !this.isShow;
  }
  constructor() {}
}
```
```html
<div>
  <button
    type="button"
    (click)="layer1.toggle()"
    *ngIf="!layer1.isShow">Open</button>
  <div *ngIf="layer1.isShow">
    <button
      type="button"
      (click)="layer1.toggle()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>

<div>
  <button
    type="button"
    (click)="layer2.toggle()"
    *ngIf="!layer2.isShow">Open</button>
  <div *ngIf="layer2.isShow">
    <button
      type="button"
      (click)="layer2.toggle()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>

<div>
  <button
    type="button"
    (click)="layer3.toggle()"
    *ngIf="!layer3.isShow">Open</button>
  <div *ngIf="layer3.isShow">
    <button
      type="button"
      (click)="layer3.toggle()">Close</button>
    <ul>
      <li><a href="#">Menu1</a></li>
      <li><a href="#">Menu2</a></li>
    </ul>
  </div>
</div>
```