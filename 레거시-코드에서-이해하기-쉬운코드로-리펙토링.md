### 글의 목적
한번쯤은 **레거시 코드**를 받아 프로젝트를 진행해야 되는 경험이 있을 것이다.
이 포스트에서는 i.kakao.com으로 서비스 되고 있는 카카오 i 오픈빌더 리펙토링에 대한 내용을 담고 있다.

### 18.10~11 오픈빌더 투입
초기에 오픈빌더는 서버 개발자로 구성된 조직에서 프런트를 담당해서 진행했다. 2.0으로 오픈하는 시점에 프로젝트의 대대적인 개선이 필요하여 프런트 개발자가 두명 투입되었다. 2.0 오픈까지는 나와 같이 프런트를 담당했던 시니어 개발자분이 많이 고생해주셨다.

#### 기존 1.0의 문제점
기존 1.0 구조에서 해결이 시급한 것은 3가지가 있었다.

**첫번째는 협업의 장벽**이다. 컴포넌트별 각각에 스타일 파일을 사용하여, 통합 css를 전달해주는 협력업체와 협업의 장벽이 있다. 그리고 사이드 이펙트도 무수히 많이 발생하고 있었다.

**두번째는 비구조화**이다. 앵귤로 구조인 컴포넌트, 서비스, 모듈, 라우팅이 일관성 없이 배치되어 구조화가 필요했다.

**세번째는 중복코드**가 많다. 각 컴포넌트별로 사용되는 중복코드가 무수히 많았다. 중복 코드가 파편화되어 동일한 기능을 어디서 사용되는 지 파악하기도 힘들었다.

#### 기존 1.0의 문제점 해결
**협업의 작벽**은 컴포넌트별 각각 스타일 파일을 삭제하고, 협력업체에서 전달되는 파일을 바로 적용할 수 있도록 변경했다. 

**비구조화**는 Angular의 보편적으로 사용되는 폴더구조를 따르게 수정했다.
URL Path 기준으로 **Feature Module**로 정의하고 Lazy Loading을 적용했다. 그리고 공통 모듈인 **Core/Shared Module**을 정의했다. **Core Module**는 앱 전역에서 싱글톤으로 정의되는 요소를 정의하고, **Shared Module**을 Feature Module에서 반복적으로 사용되는 요소를 정의한다.

**중복코드**는 컴포넌트화와 Shared Module를 분리하는 작업을 했고, 코드레벨에서는 수동루프를 **map, filter, reduce, find**등을 사용하여 추상화를 높이는 작업을 했다.

### 끝
