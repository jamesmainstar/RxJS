### 글의 목적
구조적인 개선을 진행한 뒤 코드적인 부분만 개선이 필요할 때가 있다.
현실세계의 문제는 우리가 기초문법학습할 때와 다르게 복잡성을 가지고 있다.
현실세계에서 사용되는 코드를 통해 어떻게 개선하는 지를 다뤘다.

### 용어정의
- 책임연쇄패턴
  - 문제를 처리에 적합한 객체를 연쇄적으로 찾아 책임을 부여하는 패턴이다.
  - 메세지를 보내는 객체와 이를 처리하는 객체의 결합도를 줄이기 위한 패턴이다.

### 조건문
#### 동일한 값을 비교할 경우
**if/else**로 작성되면 에러코드에 따른 동작을 파악하기 위해 시선이
**Z형태**(**errorCode -> 211 -> navigate**)로 이동되어 한번에 읽기 어렵게 한다.
```js
if (errorCode === 211) {
  navigate('/signup')
} else if (errorCode === 208) {
  navigate('/signin')
} else if (errorCode === 202) {
  navigate('/home')
} else if (errorCode === 212 || errorCode === 213) {
  navigate('/signup')
} else {
  navigate('/login')
}
```
**switch/case**로 작성되면 에러코드와 동작이 **수직**으로 위치하여 시선이 수직으로 이동되어 읽기 쉽게 만든다.
```js
switch (errorCode) {
  case 211: navigate('/signup')
    break
  case 208: navigate('/signin')
    break
  case 202: navigate('/home')
    break
  case 212:
  case 213: navigate('/signup')
    break
  default: navigate('/login')
    break
}
```
#### 다른 값을 비교할 경우
조건문에 다른 값들을 비교할 때이다. 결과에 따라 각자 다른 동작을 하고 있다.
일관성이 없기 때문에 읽기 어렵고 이해하기 쉽게 작성되어 있다.
```js
if (error.httpStatus === 0) {
  openToast('알 수 없는 오류가 발생했습니다.')
} else if (error.response && error.response.name === 'TimeoutError') {
  openToast('타임아웃이 발생했습니다.')
} else if (error.code === 211) {
  navigate('/signup')
} else if (error.code === 208) {
  navigate('/signin')
} else {
  navigate('/login')
}
```

먼저 **switch/case**를 통해 **책임연쇄패턴**을 작성하여 조건문과 동작을 동일 시선상으로 만들 수 있다.
```js
switch (true) {
  case: 
}
if (error.httpStatus === 0) {
  openToast('알 수 없는 오류가 발생했습니다.')
} else if (error.response && error.response.name === 'TimeoutError') {
  openToast('타임아웃이 발생했습니다.')
} else if (error.code === 211) {
  navigate('/signup')
} else if (error.code === 208) {
  navigate('/signin')
} else {
  navigate('/login')
}
```

#### 특정 값이 존재할 때 할당하는 경우
응답에러와 응답메시지가 있을 때 메시지변수에 할당을 하고, 둘다 없을 경우 공통 메시지를 할당하는 코드이다.
간단한 코드지만 메세지변수를 **let**으로 선언하여 **변경가능성**을 표현하였고,
시선이 한방향으로 흐르지 않고 있다.
```js
let message
if (response.error) {
  message = response.error
} else if (response.message) {
  message = response.message
} else {
  message = COMMON_MESSAGE
}
```
**OR**를 통해 작성하면 참일 때 메세지변수에 할당하게 된다.
메세지변수의 **불변**으로 선언하였고, 시선이 한방향으로 흐르게 하였다.
```js
const message = response.error || response.message || COMMON_MESSAGE
```