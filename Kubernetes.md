> [참고자료](https://subicura.com/2019/05/19/kubernetes-basic-1.html)

### 쿠버네티스란?
쿠버네티스는 컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼이다. 쿠버네티스가 너무 길어서 흔히 케이츠(k8s) 또는 큐브(kube)라고 줄여서 부른다.

#### 특징
- 서비스메시(Istio, linkerd), CI(Tekton, Spinnaker), 컨테이너 서버리스(Knative), 머신러닝(kubeflow)이 모두 쿠버네티스 환경에서 돌아간다.
- 다양한 배포방식
  - Deployment: 새로운 버전의 애플리케이션을 다양한 전략으로 무중단 배포
  - StatefulSets: 실행 순서를 보장하고 호스트 이름과 볼륨을 일정하게 사용할 수 있어 순서나 데이터가 중요한 경우 사용
  - DaemonSet: 로그나 모니터링 등 모든 노드가 설치가 필요할 때 사용
  - Job, CronJob: 배치성 작업
- Ingress 설정
  - 다양한 웹 애플리케이션을 하나의 로드 밸런서로 서비스하기 위해 Ingress기능을 제공한다.

#### 단점
- 복잡하고 초반에 개념을 이해하기 어렵다.
- YAML 설정 파일은 너무 많고 클러스터를 만드는 것도 쉽지 않다.

### 쿠버네티스 기본 개념
#### Desired State
쿠버네티스에서 가장 중요한 것은 **Desired state - 원하는 상태**라는 개념이다. 원하는 상태는 관리자가 바라는 환경을 의미한다. 구체적으로는 얼마나 많은 웹서버가 띄어 있으면 좋으지, 몇 번 포트로 서비스하기를 원하는 지를 의미한다.

쿠버네티스는 **현재 상태**를 모니터링하면서 관리자가 설정한 원하는 상태를 유지하려고 내부적으로 다양한 작업을 하는 단순한 로직을 가지고 있다.

이러한 개념 때문에 관리자가 서버를 배포할 때 직접적인 동작을 명령하지 않고 상태를 선언하는 방식을 사용한다. 예를 들어 "nginx 컨테이너를 실행해줘. 그리고 80 포트로 오픈해줘."는 현재 상태를 원하는 상태로 바꾸기 위한 명령이고 "80포트를 오픈한 nginx 컨테이너를 1개 유지해줘"는 원하는 상태를 선언한 것이다.

명령과 선언은 CLI 명령어에서도 드러난다.
```
docker run # 명령
kubectl create # 상태 생성
```

쿠버네티스의 핵심은 상태이며 쿠버네티스를 사용하려면 어떤 상태가 있고 어떻게 상태를 선언하는지를 알아야 한다.

